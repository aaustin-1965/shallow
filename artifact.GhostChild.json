{"metadata":{"name":"@ipso/ghost-child","version":"0.0.1","description":"Recreating condition causing ghost child jobs.","author":"Itential Artifacts","license":"Apache-2.0","repository":{"type":"git","url":"https://gitlab.com/itentialopensource/pre-built-automations/"},"keywords":["Itential","IAP","artifacts"],"IAPDependencies":{"@itential/app-workflow_engine":""},"gitlabId":1614797008025},"manifest":{"bundleName":"Ghost Child","fingerprint":"603fd8cf96566107234716bd","createdEpoch":"1614797007660","artifacts":[{"id":"Problem Child","name":"Problem Child","type":"workflow","location":"/bundles/workflows/Problem Child.json","properties":{"entryPoint":false}},{"id":"Child Good","name":"Child Good","type":"workflow","location":"/bundles/workflows/Child Good.json","properties":{"entryPoint":false}},{"id":"Child Bad","name":"Child Bad","type":"workflow","location":"/bundles/workflows/Child Bad.json","properties":{"entryPoint":false}}]},"bundles":[{"type":"workflow","data":{"name":"Problem Child","tasks":{"7758":{"name":"query","canvasName":"query","summary":"Good Child Pet","description":"Get the pet from good child.","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"operation","displayName":"WorkFlowEngine","variables":{"incoming":{"pass_on_null":false,"query":"pet","obj":"$var.f77f.job_details"},"outgoing":{"return_data":null},"error":""},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>query</span>"},{"key":"summary","highlightString":"<span class='highlight-string'>Query</span> Data Using 'json-query' Format"},{"key":"description","highlightString":"<span class='highlight-string'>Query</span> data using a dot/bracket notation string and a matching key/value pair."}],"groups":[],"x":0.732615083251714,"y":0.18272841051314143,"scheduled":false},"workflow_start":{"name":"workflow_start","groups":[],"x":0,"y":0.5},"workflow_end":{"name":"workflow_end","groups":[],"x":1,"y":0.5},"b0f2":{"name":"forEach","canvasName":"forEach","summary":"For Loop","description":"Iterate over each item in an array","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"operation","displayName":"WorkFlowEngine","variables":{"incoming":{"data_array":["ShowInterfaceStatus","ShowLoopback0IpAddress","ShowTraceRoute","ShowNextRouterInterface"]},"outgoing":{"current_item":null},"error":""},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>forE</span>ach"}],"groups":[],"x":0.2801175318315377,"y":0.49937421777221525,"scheduled":false},"f77f":{"name":"childJob","canvasName":"childJob","summary":"Good Child","description":"Execute the good child.","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"operation","displayName":"WorkFlowEngine","variables":{"incoming":{"task":"","workflow":"Child Good","variables":{}},"outgoing":{"job_details":null}},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>child</span>Job"},{"key":"summary","highlightString":"Run <span class='highlight-string'>Child</span> Job"},{"key":"description","highlightString":"Run a <span class='highlight-string'>child</span> job inside a workflow."}],"groups":[],"actor":"job","x":0.5318315377081293,"y":0.21777221526908636},"8f4b":{"name":"childJob","canvasName":"childJob","summary":"Bad Child","description":"Execute the bad child.","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"operation","displayName":"WorkFlowEngine","variables":{"incoming":{"task":"","workflow":"Child Bad","variables":{}},"outgoing":{"job_details":null}},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>child</span>Job"},{"key":"summary","highlightString":"Run <span class='highlight-string'>Child</span> Job"},{"key":"description","highlightString":"Run a <span class='highlight-string'>child</span> job inside a workflow."}],"groups":[],"actor":"job","x":0.6023506366307542,"y":0.3717146433041302},"6bde":{"name":"query","canvasName":"query","summary":"Bad Child Pet","description":"Get the pet from bad child.","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"operation","displayName":"WorkFlowEngine","variables":{"incoming":{"pass_on_null":false,"query":"pet","obj":"$var.8f4b.job_details"},"outgoing":{"return_data":null},"error":""},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>query</span>"},{"key":"summary","highlightString":"<span class='highlight-string'>Query</span> Data Using 'json-query' Format"},{"key":"description","highlightString":"<span class='highlight-string'>Query</span> data using a dot/bracket notation string and a matching key/value pair."}],"groups":[],"x":0.7776689520078355,"y":0.31539424280350437,"scheduled":false},"d7d1":{"name":"stringConcat","canvasName":"concat","summary":"Add Good Child Pet","description":"Append good child pet to reportCommands.","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"automatic","displayName":"String","variables":{"incoming":{"str":"$var.job.reportCommands","stringN":"$var.7758.return_data"},"outgoing":{"combinedStrings":"$var.job.reportCommands"},"error":""},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>concat</span>"},{"key":"summary","highlightString":"<span class='highlight-string'>Concat</span>enates strings together."},{"key":"description","highlightString":"<span class='highlight-string'>Concat</span>enates a string with a second string(s). The second parameter can be a string or array."}],"groups":[],"actor":"Pronghorn","x":0.89128305582762,"y":0.12891113892365458,"scheduled":false},"338e":{"name":"stringConcat","canvasName":"concat","summary":"Add Bad Child Pet","description":"Append bad child pet to reportSummary","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"automatic","displayName":"String","variables":{"incoming":{"str":"$var.job.reportSummary","stringN":"$var.6bde.return_data"},"outgoing":{"combinedStrings":"$var.job.reportSummary"},"error":""},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>concat</span>"},{"key":"summary","highlightString":"<span class='highlight-string'>Concat</span>enates strings together."},{"key":"description","highlightString":"<span class='highlight-string'>Concat</span>enates a string with a second string(s). The second parameter can be a string or array."}],"groups":[],"actor":"Pronghorn","x":0.9128305582761999,"y":0.3053817271589487,"scheduled":false},"bbb8":{"name":"ViewData","canvasName":"ViewData","summary":"View Data","description":"Displays a message and runtime data to an operator. This can be used to request a decision, or used for acknowledgement only.","location":"Application","app":"WorkFlowEngine","displayName":"Tools","type":"manual","variables":{"incoming":{"header":"","message":"$var.job.reportSummary","body":"$var.job.reportCommands","btn_success":"OK","btn_failure":""},"outgoing":{},"error":""},"view":"/workflow_engine/task/ViewData","deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>ViewD</span>ata"}],"groups":[],"x":0.6493633692458374,"y":0.574468085106383,"scheduled":false},"da31":{"name":"makeData","canvasName":"makeData","summary":"reportCommands","description":"Define an empty string job variable reportCommands","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"automatic","displayName":"Tools","variables":{"incoming":{"input":"","outputType":"string","variables":{}},"outgoing":{"output":"$var.job.reportCommands"},"error":""},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>makeD</span>ata"}],"groups":[],"actor":"Pronghorn","x":0.13907933398628794,"y":0.5819774718397998,"scheduled":false},"9cdf":{"name":"makeData","canvasName":"makeData","summary":"reportSummary","description":"Define an empty string job variable reportSummary","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"automatic","displayName":"Tools","variables":{"incoming":{"input":"","outputType":"string","variables":{}},"outgoing":{"output":"$var.job.reportSummary"},"error":""},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>makeD</span>ata"}],"groups":[],"actor":"Pronghorn","x":0.25367286973555336,"y":0.7196495619524406,"scheduled":false}},"transitions":{"7758":{"d7d1":{"type":"standard","state":"success"}},"workflow_start":{"da31":{"type":"standard","state":"success"}},"workflow_end":{},"b0f2":{"f77f":{"type":"standard","state":"loop"},"8f4b":{"type":"standard","state":"loop"},"bbb8":{"type":"standard","state":"success"}},"f77f":{"7758":{"type":"standard","state":"success"}},"8f4b":{"6bde":{"type":"standard","state":"success"}},"6bde":{"338e":{"type":"standard","state":"success"}},"d7d1":{},"338e":{},"bbb8":{"workflow_end":{"type":"standard","state":"success"}},"da31":{"9cdf":{"type":"standard","state":"success"}},"9cdf":{"b0f2":{"type":"standard","state":"success"}}},"font_size":12,"created":"2021-03-02T22:16:37.413Z","created_by":{"provenance":"RADIUS AAA","username":"barney","firstname":null,"inactive":false},"createdVersion":"5.10.4-2020.1.28.0","groups":[],"last_updated":"2021-03-02T22:38:26.126Z","last_updated_by":{"provenance":"RADIUS AAA","username":"barney","firstname":null,"inactive":false},"lastUpdatedVersion":"5.8.0","type":"automation","description":null,"tags":[]}},{"type":"workflow","data":{"name":"Child Good","tasks":{"2086":{"name":"query","canvasName":"query","summary":"Query Data Using 'json-query' Format","description":"Query data using a dot/bracket notation string and a matching key/value pair.","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"operation","displayName":"WorkFlowEngine","variables":{"incoming":{"pass_on_null":false,"query":"type","obj":{"type":"cat"}},"outgoing":{"return_data":"$var.job.pet"},"error":""},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>query</span>"},{"key":"summary","highlightString":"<span class='highlight-string'>Query</span> Data Using 'json-query' Format"},{"key":"description","highlightString":"<span class='highlight-string'>Query</span> data using a dot/bracket notation string and a matching key/value pair."}],"groups":[],"x":0.4289911851126347,"y":0.49687108886107634,"scheduled":false},"workflow_start":{"name":"workflow_start","groups":[],"x":0,"y":0.5},"workflow_end":{"name":"workflow_end","groups":[],"x":1,"y":0.5},"e1c3":{"name":"evaluation","canvasName":"evaluation","summary":"Run Evaluation Task","description":"Run an evaluation","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"operation","displayName":"WorkFlowEngine","variables":{"incoming":{"all_true_flag":false,"evaluation_groups":[{"all_true_flag":false,"evaluations":[{"query":"","operand_1":{"variable":"return_data","task":"2086"},"operator":"==","operand_2":{"variable":"cat","task":"static"}}]}]},"outgoing":{"return_value":null}},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>eval</span>uation"},{"key":"summary","highlightString":"Run <span class='highlight-string'>Eval</span>uation Task"},{"key":"description","highlightString":"Run an <span class='highlight-string'>eval</span>uation"}],"groups":[],"x":0.6689520078354554,"y":0.4956195244055069}},"transitions":{"2086":{"e1c3":{"type":"standard","state":"success"}},"workflow_start":{"2086":{"type":"standard","state":"success"}},"workflow_end":{},"e1c3":{"workflow_end":{"type":"standard","state":"success"}}},"font_size":12,"created":"2021-03-02T22:15:58.342Z","created_by":{"provenance":"RADIUS AAA","username":"barney","firstname":null,"inactive":false},"createdVersion":"5.10.4-2020.1.28.0","groups":[],"last_updated":"2021-03-02T22:27:26.503Z","last_updated_by":{"provenance":"RADIUS AAA","username":"barney","firstname":null,"inactive":false},"lastUpdatedVersion":"5.8.0","type":"automation","description":null,"tags":[]}},{"type":"workflow","data":{"name":"Child Bad","tasks":{"2086":{"name":"query","canvasName":"query","summary":"Query Data Using 'json-query' Format","description":"Query data using a dot/bracket notation string and a matching key/value pair.","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"operation","displayName":"WorkFlowEngine","variables":{"incoming":{"pass_on_null":false,"query":"type","obj":{"type":"cat"}},"outgoing":{"return_data":"$var.job.pet"},"error":""},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>query</span>"},{"key":"summary","highlightString":"<span class='highlight-string'>Query</span> Data Using 'json-query' Format"},{"key":"description","highlightString":"<span class='highlight-string'>Query</span> data using a dot/bracket notation string and a matching key/value pair."}],"groups":[],"x":0.4289911851126347,"y":0.49687108886107634,"scheduled":false},"workflow_start":{"name":"workflow_start","groups":[],"x":0,"y":0.5},"workflow_end":{"name":"workflow_end","groups":[],"x":1,"y":0.5},"e1c3":{"name":"evaluation","canvasName":"evaluation","summary":"Run Evaluation Task","description":"Run an evaluation","location":"Application","locationType":null,"app":"WorkFlowEngine","type":"operation","displayName":"WorkFlowEngine","variables":{"incoming":{"all_true_flag":false,"evaluation_groups":[{"all_true_flag":false,"evaluations":[{"query":"","operand_1":{"variable":"return_data","task":"2086"},"operator":"==","operand_2":{"variable":"cat","task":"static"}}]}]},"outgoing":{"return_value":null}},"deprecated":false,"matched":[{"key":"canvasName","highlightString":"<span class='highlight-string'>eval</span>uation"},{"key":"summary","highlightString":"Run <span class='highlight-string'>Eval</span>uation Task"},{"key":"description","highlightString":"Run an <span class='highlight-string'>eval</span>uation"}],"groups":[],"x":0.6689520078354554,"y":0.4956195244055069}},"transitions":{"2086":{"e1c3":{"type":"standard","state":"success"}},"workflow_start":{"2086":{"type":"standard","state":"success"}},"workflow_end":{},"e1c3":{"workflow_end":{"type":"standard","state":"failure"}}},"font_size":12,"created":"2021-03-02T22:15:07.510Z","created_by":{"provenance":"RADIUS AAA","username":"barney","firstname":null,"inactive":false},"createdVersion":"5.10.4-2020.1.28.0","groups":[],"last_updated":"2021-03-02T22:27:43.942Z","last_updated_by":{"provenance":"RADIUS AAA","username":"barney","firstname":null,"inactive":false},"lastUpdatedVersion":"5.8.0","type":"automation","description":null,"tags":[]}}],"readme":"<!-- This is a comment in md (Markdown) format, it will not be visible to the end user -->\n\n<!-- Update the below line with your Pre-Built name -->\n# Pre-Built Name\n\n<!-- Leave TOC intact unless you've added or removed headers -->\n## Table of Contents\n\n* [Overview](#overview)\n* [Installation Prerequisites](#installation-prerequisites)\n* [Requirements](#requirements)\n* [Features](#features)\n* [Future Enhancements](#future-enhancements)\n* [How to Install](#how-to-install)\n* [How to Run](#how-to-run)\n* [Additional Information](#additional-information)\n\n## Overview\n\n<!-- Write a few sentences about the Pre-Built and explain the use case(s) -->\n<!-- Avoid using the word Artifact. Please use Pre-Built, Pre-Built Transformation or Pre-Built Automation -->\n<!-- Ex.: The Migration Wizard enables IAP users to conveniently move their automation use cases between different IAP environments -->\n<!-- (e.g. from Dev to Pre-Production or from Lab to Production). -->\n\n<!-- Workflow(s) Image Placeholder - TO BE ADDED DIRECTLY TO GitLab -->\n<!-- REPLACE COMMENT BELOW WITH IMAGE OF YOUR MAIN WORKFLOW -->\n<!--\n<table><tr><td>\n  <img src=\"./images/workflow.png\" alt=\"workflow\" width=\"800px\">\n</td></tr></table>\n-->\n<!-- REPLACE COMMENT ABOVE WITH IMAGE OF YOUR MAIN WORKFLOW -->\n\n<!-- ADD ESTIMATED RUN TIME HERE -->\n<!-- e.g. Estimated Run Time: 34 min. -->\n_Estimated Run Time_:\n\n## Installation Prerequisites\n\nUsers must satisfy the following pre-requisites:\n\n<!-- Include any other required apps or adapters in this list -->\n<!-- Ex.: EC2 Adapter -->\n* Itential Automation Platform\n  * `^2020.x.x`\n\n## Requirements\n\nThis Pre-Built requires the following:\n\n<!-- Unordered list highlighting the requirements of the Pre-Built -->\n<!-- EXAMPLE -->\n<!-- * cisco ios device -->\n<!-- * Ansible or NSO (with F5 NED) * -->\n\n## Features\n\nThe main benefits and features of the Pre-Built are outlined below.\n\n<!-- Unordered list highlighting the most exciting features of the Pre-Built -->\n<!-- EXAMPLE -->\n<!-- * Automatically checks for device type -->\n<!-- * Displays dry-run to user (asking for confirmation) prior to pushing config to the device -->\n<!-- * Verifies downloaded file integrity (using md5), will try to download again if failed -->\n\n\n## Future Enhancements\n\n<!-- OPTIONAL - Mention if the Pre-Built will be enhanced with additional features on the road map -->\n<!-- Ex.: This Pre-Built would support Cisco XR and F5 devices -->\n\n## How to Install\n\nTo install the Pre-Built:\n\n* Verify you are running a supported version of the Itential Automation Platform (IAP) as listed above in the [Requirements](#requirements) section in order to install the Pre-Built. \n* The Pre-Built can be installed from within App-Admin_Essential. Simply search for the name of your desired Pre-Built and click the install button (as shown below).\n\n<!-- REPLACE BELOW WITH IMAGE OF YOUR PUBLISHED PRE-BUILT -->\n<!--\n<table><tr><td>\n  <img src=\"./images/install.png\" alt=\"install\" width=\"600px\">\n</td></tr></table>\n-->\n<!-- REPLACE ABOVE WITH IMAGE OF YOUR PUBLISHED PRE-BUILT -->\n\n<!-- OPTIONAL - Explain if external components are required outside of IAP -->\n<!-- Ex.: The Ansible roles required for this Pre-Built can be found in the repository located at https://gitlab.com/itentialopensource/pre-built-automations/hello-world -->\n\n## How to Run\n\nUse the following to run the Pre-Built:\n\n<!-- Explain the main entrypoint(s) for this Pre-Built: Automation Catalog item, Workflow, Postman, etc. -->\n\n## Additional Information\n\nPlease use your Itential Customer Success account if you need support when using this Pre-Built.\n"}